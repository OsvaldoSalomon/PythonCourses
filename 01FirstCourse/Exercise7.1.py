import math

def my_sqrt(a):
    x = a
    while True:
        y = (x + a / x) / 2.0
        if y == x:
            break
        x = y
    return y


my_sqrt(5)
2.23606797749979
my_sqrt(4)
2.0


def test_sqrt(list_a):
    line1a = "a"
    line1b = "my_sqrt(a)"
    line1c = "math.sqrt(a)"
    line1d = "diff"

    line2a = "-"
    line2b = "---------"
    line2c = "------------"
    line2d = "----"

    space1 = " "
    space2 = " " * 3
    space3 = ""

    print(line1a, space1, line1b, space2, line1c, space3, line1d)
    print(line2a, space1, line2b, space2, line2c, space3, line2d)

    for a in list_a:
        col1 = float(a)
        col2 = my_sqrt(a)
        col3 = math.sqrt(a)
        col4 = abs(my_sqrt(a) - math.sqrt(a))

        print(col1, "{:<13f}".format(col2), "{:<13f}".format(col3), col4)


test_sqrt(range(1, 9))
# a   my_sqrt(a)     math.sqrt(a)  diff
# -   ---------     ------------  ----
# 1.0 1.000000      1.000000      0.0
# 2.0 1.414214      1.414214      2.220446049250313e-16
# 3.0 1.732051      1.732051      0.0
# 4.0 2.000000      2.000000      0.0
# 5.0 2.236068      2.236068      0.0
# 6.0 2.449490      2.449490      0.0
# 7.0 2.645751      2.645751      0.0
# 8.0 2.828427      2.828427      4.440892098500626e-16
test_sqrt(range(1, 10))
# a   my_sqrt(a)     math.sqrt(a)  diff
# -   ---------     ------------  ----
# 1.0 1.000000      1.000000      0.0
# 2.0 1.414214      1.414214      2.220446049250313e-16
# 3.0 1.732051      1.732051      0.0
# 4.0 2.000000      2.000000      0.0
# 5.0 2.236068      2.236068      0.0
# 6.0 2.449490      2.449490      0.0
# 7.0 2.645751      2.645751      0.0
# 8.0 2.828427      2.828427      4.440892098500626e-16
# 9.0 3.000000      3.000000      0.0
test_sqrt(range(1, 26))
# a   my_sqrt(a)     math.sqrt(a)  diff
# -   ---------     ------------  ----
# 1.0 1.000000      1.000000      0.0
# 2.0 1.414214      1.414214      2.220446049250313e-16
# 3.0 1.732051      1.732051      0.0
# 4.0 2.000000      2.000000      0.0
# 5.0 2.236068      2.236068      0.0
# 6.0 2.449490      2.449490      0.0
# 7.0 2.645751      2.645751      0.0
# 8.0 2.828427      2.828427      4.440892098500626e-16
# 9.0 3.000000      3.000000      0.0
# 10.0 3.162278      3.162278      4.440892098500626e-16
# 11.0 3.316625      3.316625      0.0
# 12.0 3.464102      3.464102      0.0
# 13.0 3.605551      3.605551      4.440892098500626e-16
# 14.0 3.741657      3.741657      0.0
# 15.0 3.872983      3.872983      0.0
# 16.0 4.000000      4.000000      0.0
# 17.0 4.123106      4.123106      0.0
# 18.0 4.242641      4.242641      8.881784197001252e-16
# 19.0 4.358899      4.358899      8.881784197001252e-16
# 20.0 4.472136      4.472136      0.0
# 21.0 4.582576      4.582576      0.0
# 22.0 4.690416      4.690416      0.0
# 23.0 4.795832      4.795832      0.0
# 24.0 4.898979      4.898979      0.0
# 25.0 5.000000      5.000000      0.0
